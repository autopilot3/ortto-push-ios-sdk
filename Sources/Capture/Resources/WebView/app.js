"use strict";(function(){var Ye=Object.create;var G=Object.defineProperty;var Ze=Object.getOwnPropertyDescriptor;var rt=Object.getOwnPropertyNames;var et=Object.getPrototypeOf,tt=Object.prototype.hasOwnProperty;var W=function(r,e){return function(){return r&&(e=r(r=0)),e}};var i=function(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports}};var it=function(r,e,t,o){if(e&&typeof e=="object"||typeof e=="function")for(var n=rt(e),a=0,s=n.length,c;a<s;a++)c=n[a],!tt.call(r,c)&&c!==t&&G(r,c,{get:function(f){return e[f]}.bind(null,c),enumerable:!(o=Ze(e,c))||o.enumerable});return r};var nt=function(r,e,t){return t=r!=null?Ye(et(r)):{},it(e||!r||!r.__esModule?G(t,"default",{value:r,enumerable:!0}):t,r)};function p(r,e){return e!=null&&typeof Symbol!="undefined"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](r):p(r,e)}var w=W(function(){w()});var H=i(function(qn,z){"use strict";var at=/./;z.exports=at});var J=i(function(Sn,U){"use strict";var st=typeof Object.defineProperty=="function"?Object.defineProperty:null;U.exports=st});var $=i(function(On,X){"use strict";var ut=J();function ct(){try{return ut({},"x",{}),!0}catch(r){return!1}}X.exports=ct});var Q=i(function(jn,K){"use strict";var ft=Object.defineProperty;K.exports=ft});var tr=i(function(An,er){"use strict";var l=Object.prototype,Y=l.toString,Z=l.__defineGetter__,rr=l.__defineSetter__,pt=l.__lookupGetter__,lt=l.__lookupSetter__;function yt(r,e,t){var o,n,a,s;if(typeof r!="object"||r===null||Y.call(r)==="[object Array]")throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if(typeof t!="object"||t===null||Y.call(t)==="[object Array]")throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if(n="value"in t,n&&(pt.call(r,e)||lt.call(r,e)?(o=r.__proto__,r.__proto__=l,delete r[e],r[e]=t.value,r.__proto__=o):r[e]=t.value),a="get"in t,s="set"in t,n&&(a||s))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return a&&Z&&Z.call(r,e,t.get),s&&rr&&rr.call(r,e,t.set),r}er.exports=yt});var nr=i(function(Pn,ir){"use strict";var dt=$(),vt=Q(),mt=tr(),q;dt()?q=vt:q=mt;ir.exports=q});var ar=i(function(En,or){"use strict";var _t=nr();function gt(r,e,t){_t(r,e,{configurable:!1,enumerable:!1,writable:!1,value:t})}or.exports=gt});var _=i(function(Tn,sr){"use strict";var wt=ar();sr.exports=wt});var S=i(function(Nn,ur){"use strict";function bt(r){return typeof r=="boolean"}ur.exports=bt});function y(r){"@swc/helpers - typeof";return r&&typeof Symbol!="undefined"&&r.constructor===Symbol?"symbol":typeof r}var h=W(function(){});var fr=i(function(Fn,cr){"use strict";h();function ht(){return typeof Symbol=="function"&&y(Symbol("foo"))==="symbol"}cr.exports=ht});var lr=i(function(Bn,pr){"use strict";var xt=fr();pr.exports=xt});var dr=i(function(Wn,yr){"use strict";h();var qt=lr(),St=qt();function Ot(){return St&&y(Symbol.toStringTag)==="symbol"}yr.exports=Ot});var O=i(function(Rn,vr){"use strict";var jt=dr();vr.exports=jt});var j=i(function(Vn,mr){"use strict";var At=Object.prototype.toString;mr.exports=At});var gr=i(function(Dn,_r){"use strict";var Pt=j();function Et(r){return Pt.call(r)}_r.exports=Et});var br=i(function(Ln,wr){"use strict";var Tt=Object.prototype.hasOwnProperty;function Nt(r,e){return r==null?!1:Tt.call(r,e)}wr.exports=Nt});var A=i(function(Mn,hr){"use strict";var Ct=br();hr.exports=Ct});var qr=i(function(In,xr){"use strict";var kt=typeof Symbol=="function"?Symbol.toStringTag:"";xr.exports=kt});var Or=i(function(zn,Sr){"use strict";var Ft=A(),g=qr(),P=j();function Bt(r){var e,t,o;if(r==null)return P.call(r);t=r[g],e=Ft(r,g);try{r[g]=void 0}catch(n){return P.call(r)}return o=P.call(r),e?r[g]=t:delete r[g],o}Sr.exports=Bt});var x=i(function(Hn,jr){"use strict";var Gt=O(),Wt=gr(),Rt=Or(),E;Gt()?E=Rt:E=Wt;jr.exports=E});var Pr=i(function(Un,Ar){"use strict";var Vt=Boolean.prototype.toString;Ar.exports=Vt});var Tr=i(function(Jn,Er){"use strict";var Dt=Pr();function Lt(r){try{return Dt.call(r),!0}catch(e){return!1}}Er.exports=Lt});var T=i(function($n,Nr){"use strict";w();var Mt=O(),It=x(),zt=Tr(),Ht=Mt();function Ut(r){return typeof r=="object"?p(r,Boolean)?!0:Ht?zt(r):It(r)==="[object Boolean]":!1}Nr.exports=Ut});var kr=i(function(Kn,Cr){"use strict";var Jt=S(),Xt=T();function $t(r){return Jt(r)||Xt(r)}Cr.exports=$t});var Gr=i(function(Qn,Br){"use strict";var Fr=_(),N=kr(),Kt=S(),Qt=T();Fr(N,"isPrimitive",Kt);Fr(N,"isObject",Qt);Br.exports=N});var Rr=i(function(Yn,Wr){"use strict";function Yt(){return new Function("return this;")()}Wr.exports=Yt});var Dr=i(function(Zn,Vr){"use strict";var Zt=typeof self=="object"?self:null;Vr.exports=Zt});var Mr=i(function(ro,Lr){"use strict";var ri=typeof window=="object"?window:null;Lr.exports=ri});var zr=i(function(eo,Ir){"use strict";var ei=typeof global=="object"?global:null;Ir.exports=ei});var $r=i(function(to,Xr){"use strict";var ti=Gr().isPrimitive,ii=Rr(),Hr=Dr(),Ur=Mr(),Jr=zr();function ni(r){if(arguments.length){if(!ti(r))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+r+"`.");if(r)return ii()}if(Hr)return Hr;if(Ur)return Ur;if(Jr)return Jr;throw new Error("unexpected error. Unable to resolve global object.")}Xr.exports=ni});var Qr=i(function(io,Kr){"use strict";var oi=$r();Kr.exports=oi});var re=i(function(no,Zr){"use strict";var ai=Qr(),Yr=ai(),si=Yr.document&&Yr.document.childNodes;Zr.exports=si});var te=i(function(oo,ee){"use strict";var ui=Int8Array;ee.exports=ui});var ne=i(function(ao,ie){"use strict";var ci=H(),fi=re(),pi=te();function li(){return typeof ci=="function"||typeof pi=="object"||typeof fi=="function"}ie.exports=li});var C=i(function(so,oe){"use strict";function yi(){return/^\s*function\s*([^(]*)/i}oe.exports=yi});var se=i(function(uo,ae){"use strict";var di=C(),vi=di();ae.exports=vi});var fe=i(function(co,ce){"use strict";var mi=_(),ue=C(),_i=se();mi(ue,"REGEXP",_i);ce.exports=ue});var le=i(function(fo,pe){"use strict";var gi=x(),k;function wi(r){return gi(r)==="[object Array]"}Array.isArray?k=Array.isArray:k=wi;pe.exports=k});var de=i(function(po,ye){"use strict";var bi=le();ye.exports=bi});var me=i(function(lo,ve){"use strict";var hi=de();function xi(r){var e=function(o){var n,a;if(!hi(o)||(n=o.length,n===0))return!1;for(a=0;a<n;a++)if(r(o[a])===!1)return!1;return!0};if(typeof r!="function")throw new TypeError("invalid argument. Must provide a function. Value: `"+r+"`.");return e}ve.exports=xi});var ge=i(function(yo,_e){"use strict";var qi=me();_e.exports=qi});var be=i(function(vo,we){"use strict";function Si(r){return r!==null&&typeof r=="object"}we.exports=Si});var xe=i(function(mo,he){"use strict";var Oi=_(),ji=ge(),F=be();Oi(F,"isObjectLikeArray",ji(F));he.exports=F});var Se=i(function(_o,qe){"use strict";var Ai=xe();function Pi(r){return Ai(r)&&(r._isBuffer||r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r))}qe.exports=Pi});var je=i(function(go,Oe){"use strict";var Ei=Se();Oe.exports=Ei});var Pe=i(function(wo,Ae){"use strict";var Ti=x(),Ni=fe().REGEXP,Ci=je();function ki(r){var e,t,o;if(t=Ti(r).slice(8,-1),(t==="Object"||t==="Error")&&r.constructor){if(o=r.constructor,typeof o.name=="string")return o.name;if(e=Ni.exec(o.toString()),e)return e[1]}return Ci(r)?"Buffer":t}Ae.exports=ki});var B=i(function(bo,Ee){"use strict";var Fi=Pe();Ee.exports=Fi});var Ne=i(function(xo,Te){"use strict";h();var Bi=B();function Gi(r){var e;return r===null?"null":(e=typeof r=="undefined"?"undefined":y(r),e==="object"?Bi(r).toLowerCase():e)}Te.exports=Gi});var ke=i(function(qo,Ce){"use strict";var Wi=B();function Ri(r){return Wi(r).toLowerCase()}Ce.exports=Ri});var Be=i(function(So,Fe){"use strict";var Vi=ne(),Di=Ne(),Li=ke(),Mi=Vi()?Li:Di;Fe.exports=Mi});var We=i(function(Oo,Ge){"use strict";var Ii=Be();function zi(r){return Ii(r)==="function"}Ge.exports=zi});var Ve=i(function(jo,Re){"use strict";var Hi=We();Re.exports=Hi});var Le=i(function(Ao,De){"use strict";function Ui(r){return r}De.exports=Ui});var Ie=i(function(Po,Me){"use strict";var Ji=Le();Me.exports=Ji});var Ue=i(function(Eo,He){"use strict";var ze=Ve(),Xi=_(),$i=Ie(),Ki=A();function Qi(r,e){var t=function(){var s,c,f,d;for(s=new Array(arguments.length),d=0;d<arguments.length;d++)s[d]=arguments[d];return f=o(s).toString(),Ki(n,f)?n[f]:(c=r.apply(null,s),n[f]=c,c)},o,n;if(!ze(r))throw new TypeError("invalid argument. First argument must be a function. Value: `"+r+"`.");if(arguments.length<2)o=$i;else if(o=e,!ze(o))throw new TypeError("invalid argument. Hash function argument must be a function. Value: `"+o+"`.");return n={},Xi(t,"cache",n),t}He.exports=Qi});var Xe=i(function(To,Je){"use strict";var Yi=Ue();Je.exports=Yi});String.prototype.trimStart||(String.prototype.trimStart=function(){return this.replace(new RegExp("^"+/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/.source,"g"),"")});w();function R(r,e){if(!p(r,e))throw new TypeError("Cannot call a class as a function")}function u(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function v(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.forEach(function(n){u(r,n,t[n])})}return r}function ot(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,o)}return t}function b(r,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ot(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r}function m(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function V(r){if(Array.isArray(r))return m(r)}function D(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(r,e){if(r){if(typeof r=="string")return m(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(r,e)}}function I(r){return V(r)||D(r)||M(r)||L()}var $e=nt(Xe()),Ke=function r(){"use strict";var e=this;R(this,r),u(this,"loaded",!1),u(this,"config",void 0),u(this,"setConfig",function(t){e.config=t}),u(this,"getConfig",function(){return e.config}),u(this,"hasConfig",function(){return e.config!=null}),u(this,"runWidget",function(t){return window.ap3c._generalWidget.execute(t)}),u(this,"sendMessageToNative",function(t){try{var o,n;window.Android?window.Android.showMessage(JSON.stringify(t)):((n=window.webkit)===null||n===void 0||(o=n.messageHandlers)===null||o===void 0?void 0:o.messageHandler)!=null?window.webkit.messageHandlers.messageHandler.postMessage(t):console.log("Native code interface is not available")}catch(a){console.log("Error sending message to native code: "+a)}}),u(this,"initWindow",function(){window.ap3c=window.ap3c||{},window.ap3c.cmd=window.ap3c.cmd||[]}),u(this,"initAp3c",function(){window.ap3c.activity=function(o){window.ap3c.act=window.ap3c.act||[],window.ap3c.act.push(o)};var t=document.createElement("script");t.type="text/javascript",t.src=e.config.captureJsUrl,t.async=!0,t.defer=!0,document.body.appendChild(t)}),u(this,"pushAp3cCommands",function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var a;(a=window.ap3c.cmd).push.apply(a,I(o))}),u(this,"shimAp3c",function(){window.ap3c.getWidgetsData=(0,$e.default)(function(){var n,a=(n=e.config)===null||n===void 0?void 0:n.data;return a.widgets=a.widgets.filter(function(s){return s.type==="popup"}).map(function(s){return b(v({},s),{trigger:b(v({},s.trigger),{selection:"load"}),when:b(v({},s.when),{selection:"load"})})}),JSON.stringify(a)});var t=window.ap3c._generalWidget.hide;window.ap3c._generalWidget.hide=function(n,a){t(n,a),e.sendMessageToNative({type:"widget-close",id:n.id})};var o=window.ap3c.track;window.ap3c.track=function(n,a){if("cw"in n&&typeof n.cw=="object"){var s;"shown_on_url"in n.cw&&delete n.cw.shown_on_url;var c=(s=e.getConfig())===null||s===void 0?void 0:s.context;c!=null&&(n.cw=v({},n.cw,c))}o(n,a),e.sendMessageToNative({type:"ap3c-track",payload:n})},window.ap3c._generalWidget.canExecute=function(){return!0}}),u(this,"start",function(){if(!e.config)throw new Error("No config provided");addEventListener("error",e.onError);var t=e.config,o=t.token,n=t.data,a=t.endpoint;e.initWindow(),e.pushAp3cCommands(e.shimAp3c,function(){return window.ap3c.init(o,a)},function(){return window.ap3c.track({v:0})},function(){window.ap3c.enableTalk=!1,e.runWidget(n.widgets[0])},function(){console.log("Ap3c loaded"),e.loaded=!0}),e.initAp3c()}),u(this,"onError",function(t){var o=t.message,n=t.lineno,a=t.colno,s=t.error,c={message:o,lineno:n,colno:a,error:String(s)};e.sendMessageToNative({type:"unhandled-error",payload:c})})};var Qe=window.ap3cWebView=new Ke;Qe.hasConfig()&&Qe.start();})();
